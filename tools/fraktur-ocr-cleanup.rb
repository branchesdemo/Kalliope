#!/usr/bin/ruby

@rules = [
'oeg/æg',
'hoi/høi',
'folg/følg',
'Skjon/Skjøn',
'skjon/skjøn',
'sijon/skjøn',
'stjon/skjøn',
'ce/æ',
'Sæne/Scene',
'Bolg/Bølg',
'Slor/Slør',
'Trsst/Trøst',
'Son/Søn',
's / rod/ rød',
'elfl/elsk',
'Drom/Drøm',
'drom/drøm',
'msrk/mørk',
'Msrk/Mørk',
'modte/mødte',
'gjor/gjør',
'sial/skal',
'Ncer/Nær',
'M /M',
'scrt/sæt',
' stal/ skal',
'stodt/stødt',
'storre/større',
'Oie/Øie',
'bce/bæ',
'Son /Søn ',
'Hoi/Høi',
' Dod/ Død',
'S a a /Saa ',
'S a a/Saa',
'sortal/fortæl',
' sor / for ',
' soer/ foer',
'hsie/høie',
'forst /først ',
'forste /første ',
'speede/spæde',
'Lce/Læ',
'troeng/træng',
'rce/ræ',
'loft/løft',
'giore/giøre',
'flut/slut',
'siue/skue',
' flue/ skue',
' fode / føde ',
'Hpi/Høi',
'fodt/født',
'nogn/nøgn',
'ipn/iøn',
'mce/mæ',
'cen/æn',
'sæne/scene',
'Sæne/Scene',
'Rost/Røst',
'Gled/Glød',
'grod/grød',
'Grod/Grød',
'Fce/Fæ',
'cel/æl',
'ceb/æb',
'ced/æd',
'cer/ær',
'cet/æt',
'ceg/æg',
'cem/æm',
'cev/æv',
'crd/æd',
'crb/æb',
'crm/æm',
'crg/æg',
'crf/æf',
'crv/æv',
'crk/æk',
'crl/æl',
'crn/æn',
'crt/æt',
'crs/æs',
'Bp/Bø',
'Oin/Øin',
'skion/skiøn',
'Skion/Skiøn',
'sierne/fierne',
'sorge/sørge',
'rodme/rødme',
' sode / søde ',
'moel/mæl',
'troste/trøste',
'troste/trøste',
'lobe/løbe',
'rort/rørt',
'fpl/føl',
'fsr/før',
'elst/elsk',
'Jnd/Ind',
'Jf/If',
'ZE/Æ',
'Sial/Siæl',
'Sjal/Sjæl',
'Skrak/Skræk',
'Traer/Træer',
'Langse/Længse',
'Langsl/Længsl',
' langes/ længes',
'Dine/Øine',
'Onske/Ønske',
' onste/ ønske',
'Drsm/Drøm',
'Boge/Bøge',
'Bon /Bøn ',
'Bonner/Bønner',
'Bonder/Bønder',
'Sporg/Spørg',
'Folg/Følg',
'Fodsel/Fødsel',
'Boek/Bæk',
'sporg/spørg',
'labe/læbe',
'overste/øverste',
'storst/størst',
'Strom/Strøm',
'strom/strøm',
'hore/høre',
'hort/hørt',
'fkab/skab',
'beromte/berømte',
' soge / søge ',
' soger / søger ',
'cr/er',
'Soster/Søster',
'Osten/Østen',
'Kjon/Kjøn',
'nc/ne',
'gcn/gen',
'„/,,',
'"/\'\'',
' fom / som ',
' vg / og ',
'gbed/ghed',
'nbed/nhed',
'fole/føle',
'doe/døe',
'Dsd/Død',
'dsd/død',
'rvm/røm',
'bolge/bølge',
'bolge/bølge',
'boie/bøie',
'Iord/Jord',
'Nost/Røst',
'Trost/Trøst',
'Die/Øie',
'Dg/Og',
'lonlig/lønlig',
'svomme/svømme',
'kjsn/kjøn',
'kjvn/kjøn',
'kjon/kjøn',
'strs/strø',
'drsm/drøm',
'lose/løse',
'jeel/jæl',
'Mre/Ære',
'Wre/Ære',
'Wg/Æg',
'bun /bun ',
'eek/æk',
' ban / han ',
'morke/mørke',
'Morke/Mørke',
'Nod/Nød',
'floi/fløi',
'Torst/Tørst',
'Hor /Hør ',
'Aftenrode/Aftenrøde',
'Morgenrode/Morgenrøde',
' rode / røde ',
' tor / tør ',
'sog/søg',
'dod/død',
'stott/støtt',
'Sovn/Søvn',
'sovn/søvn',
'born/børn',
'Born/Børn',
'gian/glan',
'Gian/Glan',
'Lon/Løn',
'Ilv/Hv',
'Elstov/Elskov',
'Elflov/Elskov',
'Elsie/Elske',
'elsie/elske',
'los /løs ',
'lost/løst',
'blode/bløde',
'blodt/blødt',
'gron/grøn',
'Gron/Grøn',
'Fodder/Fødder',
'kjar/kjær',
'Kjerr/Kjær',
' sra/ fra',
' flog/ slog',
' bun/ hun',
'krob/krøb',
'sterrk/stærk',
'ftraa/straa',
];

@regexps = @rules.map { |rule| 
    m = /(.*)\/(.*)/.match(rule)
    [Regexp.new(m[1]), m[2]];
}

if ARGV.length != 1
  puts "Missing filename (try --help)"
  exit 0
end

text = File.open(ARGV[0]).read
text = text.gsub(/glode/,"gløde")
@regexps.each { |r| 
    text = text.gsub(r[0],r[1])
}
puts text

